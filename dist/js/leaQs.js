(()=>{function e(e,[t]){const n=document.createElement("div");return n.classList.add(t),e.forEach((e=>{const t=document.createElement("p");t.textContent=e,n.appendChild(t)})),n}chrome.runtime.onMessage.addListener((t=>{"displaySummary"===t.action&&function(t,n){const c=document.getElementById("container"),d=document.createElement("h1");d.textContent=`${n}`,info.appendChild(d),t.forEach(((t,n)=>{if(t.index!==n){const e=document.createElement("p");e.textContent=`Error: Quiz index mismatch. Expected: ${n}, Actual: ${t.index}`,e.style.color="red",e.style.fontWeight="bold",c.appendChild(e)}const d=document.createElement("div");d.classList.add("quiz-item");const o=document.createElement("h2");if(o.textContent=`（${n+1}）`,d.appendChild(o),d.appendChild(e(t.question,["quiz-question"])),t.image)for(let e=0;e<t.image.length;e++)if(e<=t.question.length+1){const n=document.createElement("img");n.src=t.image[e],n.alt=`問題の画像 #${e+1} `,d.appendChild(n)}if(0!==t.choices.length){const n=document.createElement("ul");if(t.choices.forEach((e=>{const t=document.createElement("li");e.forEach((e=>{const n=document.createElement("p");n.textContent=e,t.appendChild(n)})),n.appendChild(t)})),d.appendChild(n),t.correct&&t.answer){const n=document.createElement("div");n.textContent="正解: ",n.appendChild(e(t.correct,["quiz-example"])),d.appendChild(n);const c=document.createElement("div");c.textContent="回答: ",e(t.correct,["quiz-example"]).textContent!==e(t.answer,["quiz-example"]).textContent&&(c.appendChild(e(t.answer,["quiz-userAnswer-incorrect"])),d.appendChild(c))}}else if(t.correct&&t.answer){const n=document.createElement("div");n.textContent="正解: ",n.appendChild(e(t.correct,["quiz-example"])),d.appendChild(n);const c=document.createElement("div");c.textContent="回答: ",c.appendChild(e(t.answer,["quiz-userAnswer-correct"])),d.appendChild(c)}c.appendChild(d)}))}(t.quizData,t.classAndSection)}))})();