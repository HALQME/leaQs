!function(){const t=document.getElementById("pdf_button");if(!t)return;const e=t.parentNode,o=document.createElement("button");o.className="btn btn-info",o.textContent="leaQs",o.style.padding="9px 18px",o.style.backgroundColor="#327ab7",o.style.color="#fff",o.style.border="none",o.style.cursor="pointer";const r=document.createTextNode(" ");try{e.insertBefore(o,t.nextSibling),e.insertBefore(r,t.nextSibling)}catch(t){return void console.error("Error inserting button:",t)}o.addEventListener("click",(()=>{try{const t=function(){const t=[];return document.querySelectorAll(".fcontainer.clearfix").forEach((e=>{const o={question:[]},r=e.querySelector(".form-control-static .text_to_html").childNodes;if(r.length>=0)for(let t=0;t<r.length;t+=1){const e=r[t].textContent.replace(/\s+/g,"");""!==e&&o.question.push(e)}const n=0!==e.querySelectorAll(".radio").length?e.querySelectorAll(".radio"):e.querySelectorAll(".checkbox");if(o.choices=[],n)for(let t=0;t<n.length;t+=1){const e=n[t],r=e.childNodes,c=[];for(let t=0;t<r.length;t+=1){const e=r[t];if(1===e.nodeType){const t=e.getElementsByTagName("p");if(0!==t.length)for(let e=0;e<t.length;e+=1)c.push(t[e].textContent);else e.querySelector(".text_to_html")?c.push(e.querySelector(".text_to_html").textContent):c.push(e.textContent)}}if(o.choices.push(c),e.querySelector("strong .text_to_html")){const t=e.querySelector("strong").childNodes,r=[];for(let e=0;e<t.length;e+=1){const o=t[e];if(1===o.nodeType){const t=o.getElementsByTagName("p");if(0!==t.length)for(let e=0;e<t.length;e+=1)r.push(t[e].textContent);else o.querySelector(".text_to_html")?r.push(o.querySelector(".text_to_html").textContent):r.push(o.textContent)}}o.correct=r}}if(e.querySelector(".answer-correct .form-control-static")||e.querySelector(".answer-incorrect .form-control-static")){const t=(e.querySelector(".answer-correct .form-control-static")||e.querySelector(".answer-incorrect .form-control-static")).childNodes,r=[];for(let e=0;e<t.length;e+=1){const o=t[e];if(1===o.nodeType){const t=o.getElementsByTagName("p");if(0!==t.length)for(let e=0;e<t.length;e+=1)r.push(t[e].textContent);else o.querySelector(".text_to_html")?r.push(o.querySelector(".text_to_html").textContent):r.push(o.textContent)}}o.answer=r}const c=e.querySelectorAll("img");if(0!==c.length&&(o.image=[],c.forEach((t=>{const e=t.src;o.image.push(e)}))),0===o.choices.length){const t=e.querySelectorAll(".form-control-static .text_to_html");t[1]&&(o.correct=t[1].textContent.trim()),t[2]&&(o.answer=t[2].textContent.trim())}o.correct||o.answer||(o.correct=null,o.answer=null),t.push(o)})),t}(),e=document.querySelector("#page-navbar").querySelector("a").title,o=document.querySelector("#page-navbar").querySelector("span").textContent;chrome.runtime.sendMessage({action:"formatAndDisplayQuiz",quizData:t,className:e,sectionName:o})}catch(t){console.error("Runtime error:",t)}}))}();