!function(){const t=document.getElementById("pdf_button");if(!t)return;const e=t.parentNode,o=document.createElement("button");o.className="btn btn-info",o.textContent="leaQs",o.style.padding="9px 18px",o.style.backgroundColor="#327ab7",o.style.color="#fff",o.style.border="none",o.style.cursor="pointer";const r=document.createTextNode(" ");try{e.insertBefore(o,t.nextSibling),e.insertBefore(r,t.nextSibling)}catch(t){return void console.error("Error inserting button:",t)}o.addEventListener("click",(()=>{try{const t=function(){const t=[];return document.querySelectorAll(".fcontainer.clearfix").forEach(((e,o)=>{const r={};r.index=o,r.question=[];const n=e.querySelector(".form-control-static .text_to_html").childNodes;if(n.length>=0)for(let t=0;t<n.length;t+=1){const e=n[t].textContent.replace(/\s+/g,"");""!==e&&r.question.push(e)}const c=0!==e.querySelectorAll(".radio").length?e.querySelectorAll(".radio"):e.querySelectorAll(".checkbox");if(r.choices=[],c)for(let t=0;t<c.length;t+=1){const e=c[t],o=e.childNodes,n=[];for(let t=0;t<o.length;t+=1){const e=o[t];if(1===e.nodeType){const t=e.getElementsByTagName("p");if(0!==t.length)for(let e=0;e<t.length;e+=1)n.push(t[e].textContent);else e.querySelector(".text_to_html")?n.push(e.querySelector(".text_to_html").textContent):n.push(e.textContent)}}if(r.choices.push(n),e.querySelector("strong .text_to_html")){const t=e.querySelector("strong").childNodes,o=[];for(let e=0;e<t.length;e+=1){const r=t[e];if(1===r.nodeType){const t=r.getElementsByTagName("p");if(0!==t.length)for(let e=0;e<t.length;e+=1)o.push(t[e].textContent);else r.querySelector(".text_to_html")?o.push(r.querySelector(".text_to_html").textContent):o.push(r.textContent)}}r.correct=o}}if(e.querySelector(".answer-correct .form-control-static")||e.querySelector(".answer-incorrect .form-control-static")){const t=(e.querySelector(".answer-correct .form-control-static")||e.querySelector(".answer-incorrect .form-control-static")).childNodes,o=[];for(let e=0;e<t.length;e+=1){const r=t[e];if(1===r.nodeType){const t=r.getElementsByTagName("p");if(0!==t.length)for(let e=0;e<t.length;e+=1)o.push(t[e].textContent);else r.querySelector(".text_to_html")?o.push(r.querySelector(".text_to_html").textContent):o.push(r.textContent)}}r.answer=o}const l=e.querySelectorAll("img");if(0!==l.length&&(r.image=[],l.forEach((t=>{const e=t.src;r.image.push(e)}))),0===r.choices.length){const t=e.querySelectorAll(".form-control-static .text_to_html");t[1]&&(r.correct=t[1].textContent.trim()),t[2]&&(r.answer=t[2].textContent.trim())}r.correct||r.answer||(r.correct=null,r.answer=null),t.push(r)})),t}(),e=document.querySelector("#page-navbar").querySelector("a").title,o=document.querySelector("#page-navbar").querySelector("span").textContent;chrome.runtime.sendMessage({action:"formatAndDisplayQuiz",quizData:t,className:e,sectionName:o})}catch(t){console.error("Runtime error:",t)}}))}();